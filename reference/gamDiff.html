<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Compute an estimate of difference based on GAM results — gamDiff • baytrends</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Compute an estimate of difference based on GAM results — gamDiff"><meta property="og:description" content="Compute an estimate of difference based on GAM results"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">baytrends</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.12</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Detrending_Flow_and_Salinity_Data.html">Flow and Salinity Data Sets</a>
    </li>
    <li>
      <a href="../articles/Processing_Censored_Data.html">Processing Censored Water Quality Data</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/tetratech/baytrends/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compute an estimate of difference based on GAM results</h1>
    <small class="dont-index">Source: <a href="https://github.com/tetratech/baytrends/blob/main/R/gamDiff.R" class="external-link"><code>R/gamDiff.R</code></a></small>
    <div class="hidden name"><code>gamDiff.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Compute an estimate of difference based on GAM results</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">gamDiff</span><span class="op">(</span></span>
<span>  <span class="va">gamRslt</span>,</span>
<span>  <span class="va">iSpec</span>,</span>
<span>  <span class="va">analySpec</span>,</span>
<span>  base.yr.set <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  test.yr.set <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  doy.set <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  flow.detrended <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  salinity.detrended <span class="op">=</span> <span class="cn">NA</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-gamrslt">gamRslt<a class="anchor" aria-label="anchor" href="#arg-gamrslt"></a></dt>
<dd><p>output from gam model</p></dd>


<dt id="arg-ispec">iSpec<a class="anchor" aria-label="anchor" href="#arg-ispec"></a></dt>
<dd><p>data set specifications (see details for required content)</p></dd>


<dt id="arg-analyspec">analySpec<a class="anchor" aria-label="anchor" href="#arg-analyspec"></a></dt>
<dd><p>analytical specifications</p></dd>


<dt id="arg-base-yr-set">base.yr.set<a class="anchor" aria-label="anchor" href="#arg-base-yr-set"></a></dt>
<dd><p>vector of years used for baseline period</p></dd>


<dt id="arg-test-yr-set">test.yr.set<a class="anchor" aria-label="anchor" href="#arg-test-yr-set"></a></dt>
<dd><p>vector of years used for test period</p></dd>


<dt id="arg-doy-set">doy.set<a class="anchor" aria-label="anchor" href="#arg-doy-set"></a></dt>
<dd><p>vector of days used to establish sub-annual analyses
(see details)</p></dd>


<dt id="arg-alpha">alpha<a class="anchor" aria-label="anchor" href="#arg-alpha"></a></dt>
<dd><p>alpha level for computing confidence intervals</p></dd>


<dt id="arg-flow-detrended">flow.detrended<a class="anchor" aria-label="anchor" href="#arg-flow-detrended"></a></dt>
<dd><p>data generated by detrended.flow.
Default = flow.detrended.</p></dd>


<dt id="arg-salinity-detrended">salinity.detrended<a class="anchor" aria-label="anchor" href="#arg-salinity-detrended"></a></dt>
<dd><p>data generated by detrended.salinity.
Default = detrended.salinity.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Returns a nest list that includes the base and test years, doys,
  period means in analyzed units, period means in observed units, percent
  change, difference estimate, difference estimate in observed units,
  standard error, confidence intervals, t statistic, p value, and alpha
  level. The alpha level corresponds to the confidence intervals. The first
  list (gamDiff.regular) uses the computed model to estimate differences and
  is applicable for GAM formulas that do not involve an intervention term.
  The second list (gamDiff.adjusted) performs computations by projecting the
  most recent intervention (e.g., the current lab method) to all time
  periods.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>iSpec is a list containing information about the date range and
  transformations. Specifically, iSpec must include iSpec$yearBegin,
  iSpec$yearEnd, iSpec$centerYear corresponding to beginning year of record,
  ending year of record and centering year. Also, iSpec must include
  iSpec$transform and iSpec$logConst. (See online help for selectData for
  more information on these values.)</p>
<p>base.yr.set and test.yr.set represent two time periods used to compare
  differences. For example, base.yr.set=c(1999,2000) and test.yr.set=c(2013,
  2014) would compare GAM predictions from 1999-2000 versus 2013-2014. There
  is no particular limit to the number of years included in the specification
  for base.yr.set and test.yr.set. For example, a user could specify
  c(2001:2002,2004) to use the years 2001, 2002, and 2004, skipping 2003
  because 2003 was an abnormal year (particularly wet, particularly dry,
  hurricanes, etc.).</p>
<p>base.yr.set and test.yr.set must be within the years specified by
  the range from iSpec$yearBegin to iSpec$yearEnd (inclusive). If not, this
  function defaults to using the first two years (or last two years) of
  record. If base.yr.set and test.yr.set are left to their default values of
  NA, then the first two and last two years will be used</p>
<p>doy.set represents the days of year for which GAM predictions are made and
  used to compute base.yr and test.yr means. For example doy.set= c(15, 46,
  75, 106, 136, 167, 197, 228, 259, 289, 320, 350) would result in the 15th
  of each month being used in the analysis; whereas doy.set= c(15, 46, 75)
  would just use Jan-15, Feb-15, and Mar-15. (Keep in mind that this package
  uses a 366 day calendar every year such that Mar-1 is always day 61,
  regardless of leap year.) If doy.set is left to the default value of NA,
  then c(15, 46, 75, 106, 136, 167, 197, 228, 259, 289, 320, 350) is used.</p>
<p>The baseDay function has been added to this package from the smwrBase
  package.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># run analysisOrganizeData function to create the list analySpec</span></span></span>
<span class="r-in"><span><span class="va">dfr</span> <span class="op">&lt;-</span> <span class="fu"><a href="analysisOrganizeData.html">analysisOrganizeData</a></span> <span class="op">(</span><span class="va">dataCensored</span>, report<span class="op">=</span><span class="cn">NA</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">df</span>        <span class="op">&lt;-</span> <span class="va">dfr</span><span class="op">[[</span><span class="st">"df"</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">analySpec</span> <span class="op">&lt;-</span> <span class="va">dfr</span><span class="op">[[</span><span class="st">"analySpec"</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># set GAM models to just one model</span></span></span>
<span class="r-in"><span><span class="va">analySpec</span><span class="op">$</span><span class="va">gamModels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>option<span class="op">=</span><span class="fl">2</span></span></span>
<span class="r-in"><span>       , name<span class="op">=</span> <span class="st">"Non-linear trend with Seasonality (plus Interactions)"</span></span></span>
<span class="r-in"><span>       , model<span class="op">=</span> <span class="st">"~ cyear + s(cyear) + s(doy,bs='cc') + </span></span></span>
<span class="r-in"><span><span class="st">       ti(cyear,doy,bs=c('tp','cc'))"</span></span></span>
<span class="r-in"><span>       , deriv<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># run GAM for a single water quality variable, station and layer</span></span></span>
<span class="r-in"><span><span class="va">gamResult</span> <span class="op">&lt;-</span> <span class="fu"><a href="gamTest.html">gamTest</a></span><span class="op">(</span><span class="va">df</span>, <span class="st">'tn'</span>, <span class="st">'CB5.4'</span>, <span class="st">'S'</span>, analySpec<span class="op">=</span><span class="va">analySpec</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #### Total Nitrogen - Non-linear trend with Seasonality (plus Interactions)</span>
<span class="r-plt img"><img src="gamDiff-1.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> *Table: GAM Analysis of Variance.*</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Type             |        Source|  edf|  F-stat| p-value|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |:----------------|-------------:|----:|-------:|-------:|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |parametric terms |         cyear| 1.00|  0.4344|  0.5102|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |smoothed terms   |      s(cyear)| 7.13|  3.9607|  0.0001|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |"      "         |        s(doy)| 6.41| 19.9402| &lt;0.0001|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |"      "         | ti(cyear,doy)| 5.49|  1.3671|  0.0022|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> *Table: GAM Parameter Coefficients.*</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Parameter   |  Estimate| Std. Err.|  t value| p-value|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |:-----------|---------:|---------:|--------:|-------:|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |(Intercept) | -0.648238|  0.019521| -33.2073| &lt;0.0001|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |cyear       | -0.013368|  0.020281|  -0.6591|  0.5102|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> *Table: GAM Diagnostics.*</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |     AIC|   RMSE| Adj. R-squared|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |-------:|------:|--------------:|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | -135.64| 0.2021|         0.4364|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> *Table: Estimates of Change from 1985-2016.*</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Calculation                                  |      Estimate      |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |:--------------------------------------------|:------------------:|</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Baseline log mean (geometric mean)           |  -0.5592 (0.5717)  |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Current log mean (geometric mean)            |  -0.9008 (0.4062)  |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Estimated log difference                     |      -0.3416       |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Std. Err. log difference                     |       0.058        |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |95% Confidence interval for log difference   | (-0.4552 , -0.228) |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Difference p-value                           |      &lt;0.0001       |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> |Period of Record Percent Change Estimate (%) |      -28.94%       |</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># use gamDiff to replicate estimates of change calculated in the above</span></span></span>
<span class="r-in"><span><span class="fu">gamDiff</span><span class="op">(</span>gamRslt<span class="op">=</span><span class="va">gamResult</span><span class="op">[[</span><span class="st">"gamOutput2"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">gamRslt</span>,</span></span>
<span class="r-in"><span>        iSpec<span class="op">=</span><span class="va">gamResult</span><span class="op">$</span><span class="va">iSpec</span>, analySpec<span class="op">=</span><span class="va">analySpec</span>,</span></span>
<span class="r-in"><span>        base.yr.set <span class="op">=</span> <span class="cn">NA</span>, test.yr.set <span class="op">=</span> <span class="cn">NA</span>,</span></span>
<span class="r-in"><span>        doy.set <span class="op">=</span> <span class="cn">NA</span>, alpha <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$base.yr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1985 1986</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$test.yr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2015 2016</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$doys</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  15  46  75 106 136 167 197 228 259 289 320 350</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$per.mn</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.5592253 -0.9008470</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$per.mn.obs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.5716518 0.4062254</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$pct.chg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -28.93831</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$diff.est</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] -0.3416218</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$diff.est.obs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.1654263</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$diff.se</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.05797399</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$diff.ci</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.4552487 -0.2279948</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$diff.t</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] -5.892673</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$diff.pval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.000000007587802</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$alpha</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$base.yr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1985 1986</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$test.yr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2015 2016</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$doys</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  15  46  75 106 136 167 197 228 259 289 320 350</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$per.mn</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.5592253 -0.9008470</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$per.mn.obs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.5716518 0.4062254</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$pct.chg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -28.93831</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$diff.est</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] -0.3416218</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$diff.est.obs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.1654263</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$diff.se</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.05797399</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$diff.ci</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.4552487 -0.2279948</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$diff.t</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] -5.892673</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$diff.pval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.000000007587802</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$alpha</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># use gamDiff to calculate changes from 2005/06 to 2013/14</span></span></span>
<span class="r-in"><span><span class="fu">gamDiff</span><span class="op">(</span>gamRslt<span class="op">=</span><span class="va">gamResult</span><span class="op">[[</span><span class="st">"gamOutput2"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">gamRslt</span>,</span></span>
<span class="r-in"><span>        iSpec<span class="op">=</span><span class="va">gamResult</span><span class="op">$</span><span class="va">iSpec</span>, analySpec<span class="op">=</span><span class="va">analySpec</span>,</span></span>
<span class="r-in"><span>        base.yr.set <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2004</span><span class="op">:</span><span class="fl">2005</span><span class="op">)</span>, test.yr.set <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2013</span><span class="op">:</span><span class="fl">2014</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        doy.set <span class="op">=</span> <span class="cn">NA</span>, alpha <span class="op">=</span> <span class="fl">0.05</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$base.yr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2004 2005</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$test.yr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2013 2014</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$doys</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  15  46  75 106 136 167 197 228 259 289 320 350</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$per.mn</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.6318804 -0.7723996</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$per.mn.obs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.5315913 0.4619034</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$pct.chg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -13.1093</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$diff.est</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] -0.1405192</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$diff.est.obs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.06968791</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$diff.se</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.0380542</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$diff.ci</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.21510407 -0.06593436</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$diff.t</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] -3.692607</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$diff.pval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.0002500019</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.regular$alpha</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$base.yr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2004 2005</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$test.yr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2013 2014</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$doys</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  15  46  75 106 136 167 197 228 259 289 320 350</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$per.mn</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.6318804 -0.7723996</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$per.mn.obs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.5315913 0.4619034</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$pct.chg</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -13.1093</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$diff.est</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] -0.1405192</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$diff.est.obs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.06968791</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$diff.se</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.0380542</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$diff.ci</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -0.21510407 -0.06593436</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$diff.t</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] -3.692607</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$diff.pval</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              [,1]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.0002500019</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $gamDiff.adjusted$alpha</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Erik W Leppo.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

